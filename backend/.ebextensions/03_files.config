files:
  "/opt/elasticbeanstalk/hooks/appdeploy/post/01_create_uploads_dir.sh":
    mode: "000755"
    owner: webapp
    group: webapp
    content: |
      #!/bin/bash
      mkdir -p /var/app/current/uploads
      chmod 755 /var/app/current/uploads
      chown webapp:webapp /var/app/current/uploads
      
  "/opt/elasticbeanstalk/hooks/appdeploy/post/02_setup_database.sh":
    mode: "000755"
    owner: webapp
    group: webapp
    content: |
      #!/bin/bash
      cd /var/app/current
      python3 -c "
      from database import init_db
      init_db()
      print('Database initialized successfully')
      "
      
  "/opt/elasticbeanstalk/hooks/appdeploy/post/03_install_dependencies.sh":
    mode: "000755"
    owner: webapp
    group: webapp
    content: |
      #!/bin/bash
      cd /var/app/current
      pip3 install -r requirements.txt
      echo "Dependencies installed successfully" 