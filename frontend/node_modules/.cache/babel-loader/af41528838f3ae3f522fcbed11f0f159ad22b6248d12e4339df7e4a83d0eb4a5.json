{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{getSpecificKeyItemAlerts,getAllKeyItemsWithAlerts,sendItemSpecificAlert}from'../services/api';import{ChevronDown,ChevronUp,AlertTriangle,Package,Mail,RefreshCw,Send,Search as SearchIcon}from'lucide-react';import{API_BASE_URL}from'../config';// Add new API call for key items alerts\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getKeyItemsSummary=async()=>{const controller=new AbortController();const timer=setTimeout(()=>controller.abort(),4000);try{const response=await fetch(`${API_BASE_URL}/key-items/summary`,{signal:controller.signal});if(!response.ok){throw new Error('Failed to fetch key items summary');}return response.json();}finally{clearTimeout(timer);}};const Dashboard=()=>{const[keyItems,setKeyItems]=useState([]);const[loading,setLoading]=useState(true);const[expandedItems,setExpandedItems]=useState({});const[alerts,setAlerts]=useState({});const[loadingAlerts,setLoadingAlerts]=useState({});const[searchTerm,setSearchTerm]=useState('');const[searching,setSearching]=useState(false);const itemRefs=useRef({});const scrollToItem=name=>{const el=itemRefs.current[name];if(el&&typeof el.scrollIntoView==='function'){setTimeout(()=>el.scrollIntoView({behavior:'smooth',block:'start'}),50);}};// Load key items on component mount\nuseEffect(()=>{loadKeyItems();},[]);// Auto-refresh when component becomes visible (e.g., returning from upload)\nuseEffect(()=>{const handleVisibilityChange=()=>{if(!document.hidden){console.log('🔄 Dashboard visible - refreshing data...');loadKeyItems();}};const handleFocus=()=>{console.log('🔄 Dashboard focused - refreshing data...');loadKeyItems();};const handleThresholdsUpdated=()=>{console.log('🔄 Thresholds updated - refreshing dashboard...');loadKeyItems();};// Listen for page visibility changes and window focus\ndocument.addEventListener('visibilitychange',handleVisibilityChange);window.addEventListener('focus',handleFocus);window.addEventListener('thresholdsUpdated',handleThresholdsUpdated);return()=>{document.removeEventListener('visibilitychange',handleVisibilityChange);window.removeEventListener('focus',handleFocus);window.removeEventListener('thresholdsUpdated',handleThresholdsUpdated);};},[]);const loadKeyItems=async()=>{try{setLoading(true);const fetchSummary=async()=>{const controller=new AbortController();const timer=setTimeout(()=>controller.abort(),3000);try{const res=await fetch(`${API_BASE_URL}/key-items/summary`,{signal:controller.signal});const data=await res.json();const arr=(data.key_items||[]).map(k=>({name:k.name,total_stock:k.total_stock,variants_count:k.variants_count,low_stock_count:k.alert_count}));return arr;}catch{return[];}finally{clearTimeout(timer);}};const fetchBatch=async()=>{try{const batch=await getAllKeyItemsWithAlerts();const arr=(batch.key_items||[]).map(k=>({name:k.name,total_stock:k.total_stock,variants_count:(k.alerts||[]).length,low_stock_count:k.alert_count}));return arr;}catch{return[];}};// Paint as soon as ANY is ready\nconst race=await Promise.race([fetchSummary(),new Promise(r=>setTimeout(async()=>r(await fetchBatch()),200))]);if(race&&race.length){const sorted=[...race].sort((a,b)=>(a.name||'').localeCompare(b.name||''));setKeyItems(sorted);}// Background prefetch to hydrate faster expands\nfetchBatch().then(list=>{if(list&&list.length){const sorted=[...list].sort((a,b)=>(a.name||'').localeCompare(b.name||''));setKeyItems(sorted);}});}catch(error){console.error('❌ Error loading key items:',error);}finally{setLoading(false);}};const handleQuickSearch=async()=>{const raw=searchTerm.trim();if(!raw)return;const term=raw.toUpperCase();try{setSearching(true);// Prefer cached batch\nconst batch=await getAllKeyItemsWithAlerts();const list=batch.key_items||[];let item=list.find(x=>(x.name||'').toUpperCase()===term);if(!item)item=list.find(x=>(x.name||'').toUpperCase().includes(term));let alertsList=[];if(item){alertsList=(item.alerts||[]).map(a=>({...a,current_stock:a.stock_level}));setExpandedItems({[item.name]:true});setAlerts(prev=>({...prev,[item.name]:alertsList}));scrollToItem(item.name);return;}// Fallback to backend search endpoint\nconst res=await fetch(`${API_BASE_URL}/search/article/${encodeURIComponent(raw)}`);const data=await res.json();const results=data.results||[];if(results.length>0){const chosen=(results[0].item_name||'').toUpperCase();alertsList=results.filter(r=>(r.item_name||'').toUpperCase()===chosen).map(r=>({item_name:r.item_name,color:r.color,size:r.size,current_stock:r.current_stock,required_threshold:r.required_threshold,shortage:r.shortage}));const displayName=results[0].item_name;setExpandedItems({[displayName]:true});setAlerts(prev=>({...prev,[displayName]:alertsList}));// Ensure the item appears in the list so user sees it\nif(!keyItems.find(k=>k.name===displayName)){setKeyItems(prev=>[{name:displayName,total_stock:undefined,variants_count:alertsList.length,low_stock_count:alertsList.length},...prev]);}scrollToItem(displayName);}else{alert('No results found for that article.');}}catch(e){console.error('Search failed',e);alert('Search failed. Please try again.');}finally{setSearching(false);}};const loadAlertsForItem=async itemName=>{if(alerts[itemName])return;// Already loaded\ntry{setLoadingAlerts(prev=>({...prev,[itemName]:true}));// Use cached batch alerts so we get required_threshold and shortage\nconst batch=await getAllKeyItemsWithAlerts();const item=(batch.key_items||[]).find(x=>x.name===itemName);const list=item?(item.alerts||[]).map(a=>({...a,current_stock:a.stock_level})):[];setAlerts(prev=>({...prev,[itemName]:list}));}catch(error){console.error(`Error loading alerts for ${itemName}:`,error);}finally{setLoadingAlerts(prev=>({...prev,[itemName]:false}));}};const toggleExpanded=async itemName=>{const isExpanding=!expandedItems[itemName];setExpandedItems(prev=>({...prev,[itemName]:isExpanding}));// Load alerts when expanding for the first time\nif(isExpanding&&!alerts[itemName]){await loadAlertsForItem(itemName);}if(isExpanding)scrollToItem(itemName);};const getTotalAlerts=()=>{if(!Array.isArray(keyItems))return 0;return keyItems.reduce((total,item)=>total+(item.low_stock_count||0),0);};const getUrgencyLevel=shortage=>{if(shortage>=10)return{color:'text-red-600',bg:'bg-red-50',label:'CRITICAL'};if(shortage>=5)return{color:'text-orange-600',bg:'bg-orange-50',label:'HIGH'};return{color:'text-yellow-600',bg:'bg-yellow-50',label:'MEDIUM'};};const handleSendEmail=async(itemName,e)=>{e.stopPropagation();// Prevent expanding the item\n// Immediate fast popup\nalert(`Creating email for ${itemName}... It will be sent within ~10 seconds.`);// Fire and continue without blocking UI\ntry{sendItemSpecificAlert(itemName).catch(()=>{/* no-op background */});}catch(error){console.error('Error sending email:',error);// Swallow, background already launched\n}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-64\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-lg text-gray-600\",children:\"Loading inventory alerts...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8 text-blue-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 dark:text-yellow-200\",children:\"Key Items Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:\"Monitor low stock alerts for critical inventory items\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-gray-100 dark:bg-zinc-800 px-3 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(SearchIcon,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleQuickSearch(),placeholder:\"Quick search article...\",className:\"bg-transparent outline-none text-sm w-48 dark:text-yellow-100\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleQuickSearch,disabled:searching||!searchTerm.trim(),className:\"text-xs px-2 py-1 bg-blue-600 text-white rounded-md disabled:opacity-50\",children:\"Go\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:loadKeyItems,disabled:loading,className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:`w-4 h-4 mr-2 ${loading?'animate-spin':''}`}),loading?'Refreshing...':'Refresh']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-red-600\",children:getTotalAlerts()}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-300\",children:\"Total Low Stock Items\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:keyItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{ref:el=>{itemRefs.current[item.name]=el;},className:\"bg-white dark:bg-zinc-900 rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:`p-6 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-zinc-800 ${item.low_stock_count>0?'border-l-4 border-red-500':'border-l-4 border-green-500'}`,onClick:()=>toggleExpanded(item.name),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-4\",children:item.low_stock_count>0?/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-6 h-6 text-red-600\"}):/*#__PURE__*/_jsx(Package,{className:\"w-6 h-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 dark:text-yellow-100\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:item.low_stock_count>0?`${item.low_stock_count} variants need attention`:'All variants have adequate stock'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[item.low_stock_count>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium mr-4\",children:[item.low_stock_count,\" alerts\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleSendEmail(item.name,e),className:\"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors mr-4\",title:\"Send email alert for this item\",children:/*#__PURE__*/_jsx(Send,{className:\"w-4 h-4\"})})]}),expandedItems[item.name]?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-5 h-5 text-gray-400\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-400\"})]})]})}),expandedItems[item.name]&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 dark:border-zinc-700\",children:loadingAlerts[item.name]?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2 dark:text-gray-300\",children:[\"Loading alerts for \",item.name,\"...\"]})]}):alerts[item.name]&&alerts[item.name].length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-800 dark:text-yellow-200\",children:[\"Low Stock Details - \",item.name]}),/*#__PURE__*/_jsx(Mail,{className:\"w-5 h-5 text-blue-600\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-zinc-800\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Color\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Size\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Current Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Required\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Shortage\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Priority\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-zinc-900 divide-y divide-gray-200 dark:divide-zinc-700\",children:alerts[item.name].map((alert,index)=>{const urgency=getUrgencyLevel(alert.shortage);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-zinc-800\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm font-medium text-gray-900 dark:text-yellow-100\",children:alert.color}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\",children:alert.size}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\",children:alert.current_stock}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\",children:alert.required_threshold}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-3 text-sm font-semibold text-red-600\",children:[\"-\",alert.shortage]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 text-xs font-medium rounded-full ${urgency.bg} ${urgency.color}`,children:urgency.label})})]},index);})})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 text-green-500 mx-auto mb-2\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"All variants for \",item.name,\" have adequate stock levels\"]})]})})]},item.name))}),keyItems.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-zinc-900 rounded-lg shadow-md p-12 text-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 dark:text-yellow-100 mb-2\",children:\"No Inventory Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:\"Upload an inventory report to see key items stock levels and alerts\"})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","getSpecificKeyItemAlerts","getAllKeyItemsWithAlerts","sendItemSpecificAlert","ChevronDown","ChevronUp","AlertTriangle","Package","Mail","RefreshCw","Send","Search","SearchIcon","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getKeyItemsSummary","controller","AbortController","timer","setTimeout","abort","response","fetch","signal","ok","Error","json","clearTimeout","Dashboard","keyItems","setKeyItems","loading","setLoading","expandedItems","setExpandedItems","alerts","setAlerts","loadingAlerts","setLoadingAlerts","searchTerm","setSearchTerm","searching","setSearching","itemRefs","scrollToItem","name","el","current","scrollIntoView","behavior","block","loadKeyItems","handleVisibilityChange","document","hidden","console","log","handleFocus","handleThresholdsUpdated","addEventListener","window","removeEventListener","fetchSummary","res","data","arr","key_items","map","k","total_stock","variants_count","low_stock_count","alert_count","fetchBatch","batch","length","race","Promise","r","sorted","sort","a","b","localeCompare","then","list","error","handleQuickSearch","raw","trim","term","toUpperCase","item","find","x","includes","alertsList","current_stock","stock_level","prev","encodeURIComponent","results","chosen","item_name","filter","color","size","required_threshold","shortage","displayName","undefined","alert","e","loadAlertsForItem","itemName","toggleExpanded","isExpanding","getTotalAlerts","Array","isArray","reduce","total","getUrgencyLevel","bg","label","handleSendEmail","stopPropagation","catch","className","children","type","value","onChange","target","onKeyDown","key","placeholder","onClick","disabled","ref","title","index","urgency"],"sources":["/Users/SarthakSethi/SOFTWARE FOR DANIER /danier-stock-alert/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { getSpecificKeyItemAlerts, getAllKeyItemsWithAlerts, sendItemSpecificAlert } from '../services/api';\nimport { ChevronDown, ChevronUp, AlertTriangle, Package, Mail, RefreshCw, Send, Search as SearchIcon } from 'lucide-react';\nimport { API_BASE_URL } from '../config';\n\n// Add new API call for key items alerts\nconst getKeyItemsSummary = async () => {\n  const controller = new AbortController();\n  const timer = setTimeout(() => controller.abort(), 4000);\n  try {\n    const response = await fetch(`${API_BASE_URL}/key-items/summary`, { signal: controller.signal });\n    if (!response.ok) {\n      throw new Error('Failed to fetch key items summary');\n    }\n    return response.json();\n  } finally {\n    clearTimeout(timer);\n  }\n};\n\nconst Dashboard = () => {\n  const [keyItems, setKeyItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedItems, setExpandedItems] = useState({});\n  const [alerts, setAlerts] = useState({});\n  const [loadingAlerts, setLoadingAlerts] = useState({});\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searching, setSearching] = useState(false);\n  const itemRefs = useRef({});\n\n  const scrollToItem = (name) => {\n    const el = itemRefs.current[name];\n    if (el && typeof el.scrollIntoView === 'function') {\n      setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'start' }), 50);\n    }\n  };\n\n  // Load key items on component mount\n  useEffect(() => {\n    loadKeyItems();\n  }, []);\n\n  // Auto-refresh when component becomes visible (e.g., returning from upload)\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        console.log('🔄 Dashboard visible - refreshing data...');\n        loadKeyItems();\n      }\n    };\n\n    const handleFocus = () => {\n      console.log('🔄 Dashboard focused - refreshing data...');\n      loadKeyItems();\n    };\n\n    const handleThresholdsUpdated = () => {\n      console.log('🔄 Thresholds updated - refreshing dashboard...');\n      loadKeyItems();\n    };\n\n    // Listen for page visibility changes and window focus\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    window.addEventListener('focus', handleFocus);\n    window.addEventListener('thresholdsUpdated', handleThresholdsUpdated);\n\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('thresholdsUpdated', handleThresholdsUpdated);\n    };\n  }, []);\n\n  const loadKeyItems = async () => {\n    try {\n      setLoading(true);\n\n      const fetchSummary = async () => {\n        const controller = new AbortController();\n        const timer = setTimeout(() => controller.abort(), 3000);\n        try {\n          const res = await fetch(`${API_BASE_URL}/key-items/summary`, { signal: controller.signal });\n          const data = await res.json();\n          const arr = (data.key_items || []).map(k => ({\n            name: k.name,\n            total_stock: k.total_stock,\n            variants_count: k.variants_count,\n            low_stock_count: k.alert_count,\n          }));\n          return arr;\n        } catch {\n          return [];\n        } finally { clearTimeout(timer); }\n      };\n\n      const fetchBatch = async () => {\n        try {\n          const batch = await getAllKeyItemsWithAlerts();\n          const arr = (batch.key_items || []).map(k => ({\n            name: k.name,\n            total_stock: k.total_stock,\n            variants_count: (k.alerts || []).length,\n            low_stock_count: k.alert_count,\n          }));\n          return arr;\n        } catch { return []; }\n      };\n\n      // Paint as soon as ANY is ready\n      const race = await Promise.race([fetchSummary(), new Promise(r => setTimeout(async ()=> r(await fetchBatch()), 200))]);\n      if (race && race.length) {\n        const sorted = [...race].sort((a,b)=> (a.name||'').localeCompare(b.name||''));\n        setKeyItems(sorted);\n      }\n\n      // Background prefetch to hydrate faster expands\n      fetchBatch().then(list => {\n        if (list && list.length) {\n          const sorted = [...list].sort((a,b)=> (a.name||'').localeCompare(b.name||''));\n          setKeyItems(sorted);\n        }\n      });\n    } catch (error) {\n      console.error('❌ Error loading key items:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleQuickSearch = async () => {\n    const raw = searchTerm.trim();\n    if (!raw) return;\n    const term = raw.toUpperCase();\n    try {\n      setSearching(true);\n      // Prefer cached batch\n      const batch = await getAllKeyItemsWithAlerts();\n      const list = batch.key_items || [];\n      let item = list.find(x => (x.name || '').toUpperCase() === term);\n      if (!item) item = list.find(x => (x.name || '').toUpperCase().includes(term));\n\n      let alertsList = [];\n      if (item) {\n        alertsList = (item.alerts || []).map(a => ({ ...a, current_stock: a.stock_level }));\n        setExpandedItems({ [item.name]: true });\n        setAlerts(prev => ({ ...prev, [item.name]: alertsList }));\n        scrollToItem(item.name);\n        return;\n      }\n\n      // Fallback to backend search endpoint\n      const res = await fetch(`${API_BASE_URL}/search/article/${encodeURIComponent(raw)}`);\n      const data = await res.json();\n      const results = data.results || [];\n      if (results.length > 0) {\n        const chosen = (results[0].item_name || '').toUpperCase();\n        alertsList = results\n          .filter(r => (r.item_name || '').toUpperCase() === chosen)\n          .map(r => ({\n            item_name: r.item_name,\n            color: r.color,\n            size: r.size,\n            current_stock: r.current_stock,\n            required_threshold: r.required_threshold,\n            shortage: r.shortage,\n          }));\n        const displayName = results[0].item_name;\n        setExpandedItems({ [displayName]: true });\n        setAlerts(prev => ({ ...prev, [displayName]: alertsList }));\n        // Ensure the item appears in the list so user sees it\n        if (!keyItems.find(k => k.name === displayName)) {\n          setKeyItems(prev => [{ name: displayName, total_stock: undefined, variants_count: alertsList.length, low_stock_count: alertsList.length }, ...prev]);\n        }\n        scrollToItem(displayName);\n      } else {\n        alert('No results found for that article.');\n      }\n    } catch (e) {\n      console.error('Search failed', e);\n      alert('Search failed. Please try again.');\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  const loadAlertsForItem = async (itemName) => {\n    if (alerts[itemName]) return; // Already loaded\n    \n    try {\n      setLoadingAlerts(prev => ({ ...prev, [itemName]: true }));\n      // Use cached batch alerts so we get required_threshold and shortage\n      const batch = await getAllKeyItemsWithAlerts();\n      const item = (batch.key_items || []).find(x => x.name === itemName);\n      const list = item ? (item.alerts || []).map(a => ({\n        ...a,\n        current_stock: a.stock_level,\n      })) : [];\n      setAlerts(prev => ({ ...prev, [itemName]: list }));\n    } catch (error) {\n      console.error(`Error loading alerts for ${itemName}:`, error);\n    } finally {\n      setLoadingAlerts(prev => ({ ...prev, [itemName]: false }));\n    }\n  };\n\n  const toggleExpanded = async (itemName) => {\n    const isExpanding = !expandedItems[itemName];\n    \n    setExpandedItems(prev => ({\n      ...prev,\n      [itemName]: isExpanding\n    }));\n\n    // Load alerts when expanding for the first time\n    if (isExpanding && !alerts[itemName]) {\n      await loadAlertsForItem(itemName);\n    }\n    if (isExpanding) scrollToItem(itemName);\n  };\n\n  const getTotalAlerts = () => {\n    if (!Array.isArray(keyItems)) return 0;\n    return keyItems.reduce((total, item) => total + (item.low_stock_count || 0), 0);\n  };\n\n  const getUrgencyLevel = (shortage) => {\n    if (shortage >= 10) return { color: 'text-red-600', bg: 'bg-red-50', label: 'CRITICAL' };\n    if (shortage >= 5) return { color: 'text-orange-600', bg: 'bg-orange-50', label: 'HIGH' };\n    return { color: 'text-yellow-600', bg: 'bg-yellow-50', label: 'MEDIUM' };\n  };\n\n  const handleSendEmail = async (itemName, e) => {\n    e.stopPropagation(); // Prevent expanding the item\n    \n    // Immediate fast popup\n    alert(`Creating email for ${itemName}... It will be sent within ~10 seconds.`);\n    // Fire and continue without blocking UI\n    try {\n      sendItemSpecificAlert(itemName).catch(() => {/* no-op background */});\n    } catch (error) {\n      console.error('Error sending email:', error);\n      // Swallow, background already launched\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto p-6\">\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          <span className=\"ml-3 text-lg text-gray-600\">Loading inventory alerts...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 mb-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <Package className=\"w-8 h-8 text-blue-600 mr-3\" />\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-800 dark:text-yellow-200\">Key Items Dashboard</h1>\n              <p className=\"text-gray-600 dark:text-gray-300\">Monitor low stock alerts for critical inventory items</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            {/* Compact Quick Search */}\n            <div className=\"flex items-center gap-2 bg-gray-100 dark:bg-zinc-800 px-3 py-2 rounded-lg\">\n              <SearchIcon className=\"w-4 h-4 text-gray-500\" />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                onKeyDown={(e) => e.key === 'Enter' && handleQuickSearch()}\n                placeholder=\"Quick search article...\"\n                className=\"bg-transparent outline-none text-sm w-48 dark:text-yellow-100\"\n              />\n              <button\n                onClick={handleQuickSearch}\n                disabled={searching || !searchTerm.trim()}\n                className=\"text-xs px-2 py-1 bg-blue-600 text-white rounded-md disabled:opacity-50\"\n              >Go</button>\n            </div>\n            <button\n              onClick={loadKeyItems}\n              disabled={loading}\n              className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n              {loading ? 'Refreshing...' : 'Refresh'}\n            </button>\n            <div className=\"text-right\">\n              <div className=\"text-2xl font-bold text-red-600\">{getTotalAlerts()}</div>\n              <div className=\"text-sm text-gray-600 dark:text-gray-300\">Total Low Stock Items</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Key Items Grid */}\n      <div className=\"space-y-4\">\n        {keyItems.map((item) => (\n          <div key={item.name} ref={(el)=> { itemRefs.current[item.name] = el; }} className=\"bg-white dark:bg-zinc-900 rounded-lg shadow-md overflow-hidden\">\n            {/* Item Header */}\n            <div \n              className={`p-6 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-zinc-800 ${\n                item.low_stock_count > 0 ? 'border-l-4 border-red-500' : 'border-l-4 border-green-500'\n              }`}\n              onClick={() => toggleExpanded(item.name)}\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"mr-4\">\n                    {item.low_stock_count > 0 ? (\n                      <AlertTriangle className=\"w-6 h-6 text-red-600\" />\n                    ) : (\n                      <Package className=\"w-6 h-6 text-green-600\" />\n                    )}\n                  </div>\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-800 dark:text-yellow-100\">{item.name}</h3>\n                    <p className=\"text-gray-600 dark:text-gray-300\">\n                      {item.low_stock_count > 0 \n                        ? `${item.low_stock_count} variants need attention`\n                        : 'All variants have adequate stock'\n                      }\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center\">\n                  {item.low_stock_count > 0 && (\n                    <>\n                      <span className=\"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium mr-4\">\n                        {item.low_stock_count} alerts\n                      </span>\n                      <button\n                        onClick={(e) => handleSendEmail(item.name, e)}\n                        className=\"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors mr-4\"\n                        title=\"Send email alert for this item\"\n                      >\n                        <Send className=\"w-4 h-4\" />\n                      </button>\n                    </>\n                  )}\n                  {expandedItems[item.name] ? (\n                    <ChevronUp className=\"w-5 h-5 text-gray-400\" />\n                  ) : (\n                    <ChevronDown className=\"w-5 h-5 text-gray-400\" />\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Expanded Content */}\n            {expandedItems[item.name] && (\n              <div className=\"border-t border-gray-200 dark:border-zinc-700\">\n                {loadingAlerts[item.name] ? (\n                  <div className=\"p-6 text-center\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n                    <p className=\"text-gray-600 mt-2 dark:text-gray-300\">Loading alerts for {item.name}...</p>\n                  </div>\n                ) : alerts[item.name] && alerts[item.name].length > 0 ? (\n                  <div className=\"p-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-lg font-semibold text-gray-800 dark:text-yellow-200\">\n                        Low Stock Details - {item.name}\n                      </h4>\n                      <Mail className=\"w-5 h-5 text-blue-600\" />\n                    </div>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full\">\n                        <thead className=\"bg-gray-50 dark:bg-zinc-800\">\n                          <tr>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Color</th>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Size</th>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Current Stock</th>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Required</th>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Shortage</th>\n                            <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">Priority</th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"bg-white dark:bg-zinc-900 divide-y divide-gray-200 dark:divide-zinc-700\">\n                          {alerts[item.name].map((alert, index) => {\n                            const urgency = getUrgencyLevel(alert.shortage);\n                            return (\n                              <tr key={index} className=\"hover:bg-gray-50 dark:hover:bg-zinc-800\">\n                                <td className=\"px-4 py-3 text-sm font-medium text-gray-900 dark:text-yellow-100\">{alert.color}</td>\n                                <td className=\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\">{alert.size}</td>\n                                <td className=\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\">{alert.current_stock}</td>\n                                <td className=\"px-4 py-3 text-sm text-gray-700 dark:text-gray-300\">{alert.required_threshold}</td>\n                                <td className=\"px-4 py-3 text-sm font-semibold text-red-600\">-{alert.shortage}</td>\n                                <td className=\"px-4 py-3\">\n                                  <span className={`px-2 py-1 text-xs font-medium rounded-full ${urgency.bg} ${urgency.color}`}>\n                                    {urgency.label}\n                                  </span>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"p-6 text-center text-gray-600 dark:text-gray-300\">\n                    <Package className=\"w-12 h-12 text-green-500 mx-auto mb-2\" />\n                    <p>All variants for {item.name} have adequate stock levels</p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {keyItems.length === 0 && (\n        <div className=\"bg-white dark:bg-zinc-900 rounded-lg shadow-md p-12 text-center\">\n          <Package className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-gray-700 dark:text-yellow-100 mb-2\">No Inventory Data</h3>\n          <p className=\"text-gray-600 dark:text-gray-300\">\n            Upload an inventory report to see key items stock levels and alerts\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}