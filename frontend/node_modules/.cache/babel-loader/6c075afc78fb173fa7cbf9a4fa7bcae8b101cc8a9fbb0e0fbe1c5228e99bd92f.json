{"ast":null,"code":"import React,{useState}from'react';import{Search,AlertTriangle,Package}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SearchBar=()=>{const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const[hasSearched,setHasSearched]=useState(false);const handleSearch=async()=>{if(!searchTerm.trim())return;setIsSearching(true);setHasSearched(true);try{const response=await fetch(`http://localhost:8000/search/article/${encodeURIComponent(searchTerm)}`);const data=await response.json();if(response.ok){setSearchResults(data.results||[]);}else{console.error('Search failed:',data.detail);setSearchResults([]);}}catch(error){console.error('Search error:',error);setSearchResults([]);}finally{setIsSearching(false);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-5 h-5 mr-2 text-blue-600\"}),\"Search Article Alerts\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Enter article name, style code, or color...\",className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,disabled:isSearching||!searchTerm.trim(),className:\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\",children:isSearching?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Searching...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2\"}),\"Search\"]})})]}),hasSearched&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:searchResults.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Found \",searchResults.length,\" matching items\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"Search term: \\\"\",searchTerm,\"\\\"\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:searchResults.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:item.item_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:item.item_description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-4 h-4 mr-1 text-gray-500\"}),item.color,\" - \",item.size]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 mr-1 text-red-500\"}),\"Stock: \",item.current_stock,\" (Need: \",item.required_threshold,\")\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-red-600\",children:[\"-\",item.shortage]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Shortage\"})]})]})},index))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No results found\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500\",children:[\"No items found matching \\\"\",searchTerm,\"\\\". Try a different search term.\"]})]})})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","Search","AlertTriangle","Package","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchBar","searchTerm","setSearchTerm","searchResults","setSearchResults","isSearching","setIsSearching","hasSearched","setHasSearched","handleSearch","trim","response","fetch","encodeURIComponent","data","json","ok","results","console","error","detail","handleKeyPress","e","key","className","children","type","value","onChange","target","onKeyPress","placeholder","onClick","disabled","length","map","item","index","item_name","item_description","color","size","current_stock","required_threshold","shortage"],"sources":["/Users/SarthakSethi/SOFTWARE FOR DANIER /danier-stock-alert/frontend/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Search, AlertTriangle, Package } from 'lucide-react';\n\nconst SearchBar = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n\n  const handleSearch = async () => {\n    if (!searchTerm.trim()) return;\n\n    setIsSearching(true);\n    setHasSearched(true);\n\n    try {\n      const response = await fetch(`http://localhost:8000/search/article/${encodeURIComponent(searchTerm)}`);\n      const data = await response.json();\n      \n      if (response.ok) {\n        setSearchResults(data.results || []);\n      } else {\n        console.error('Search failed:', data.detail);\n        setSearchResults([]);\n      }\n    } catch (error) {\n      console.error('Search error:', error);\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n      <h2 className=\"text-xl font-semibold mb-4 flex items-center\">\n        <Search className=\"w-5 h-5 mr-2 text-blue-600\" />\n        Search Article Alerts\n      </h2>\n      \n      <div className=\"flex gap-2 mb-4\">\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Enter article name, style code, or color...\"\n          className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n        <button\n          onClick={handleSearch}\n          disabled={isSearching || !searchTerm.trim()}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center\"\n        >\n          {isSearching ? (\n            <>\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n              Searching...\n            </>\n          ) : (\n            <>\n              <Search className=\"w-4 h-4 mr-2\" />\n              Search\n            </>\n          )}\n        </button>\n      </div>\n\n      {hasSearched && (\n        <div className=\"mt-4\">\n          {searchResults.length > 0 ? (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Found {searchResults.length} matching items\n                </h3>\n                <span className=\"text-sm text-gray-500\">\n                  Search term: \"{searchTerm}\"\n                </span>\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {searchResults.map((item, index) => (\n                  <div key={index} className=\"border border-gray-200 rounded-lg p-4 hover:bg-gray-50\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <h4 className=\"font-medium text-gray-900\">{item.item_name}</h4>\n                        <p className=\"text-sm text-gray-600 mt-1\">{item.item_description}</p>\n                        <div className=\"flex items-center gap-4 mt-2 text-sm\">\n                          <span className=\"flex items-center\">\n                            <Package className=\"w-4 h-4 mr-1 text-gray-500\" />\n                            {item.color} - {item.size}\n                          </span>\n                          <span className=\"flex items-center\">\n                            <AlertTriangle className=\"w-4 h-4 mr-1 text-red-500\" />\n                            Stock: {item.current_stock} (Need: {item.required_threshold})\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-lg font-bold text-red-600\">\n                          -{item.shortage}\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          Shortage\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <Search className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No results found</h3>\n              <p className=\"text-gray-500\">\n                No items found matching \"{searchTerm}\". Try a different search term.\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}